{"expireTime":9007200917962571000,"key":"transformer-remark-markdown-ast-7d484851a8d19cf7da5ccfb9efacc4b9-gatsby-remark-prismjs-","val":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":"Grunt是一个JavaScript构建工具。","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":24,"offset":23},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":24,"offset":23},"indent":[]}},{"type":"heading","depth":5,"children":[{"type":"text","value":"【1】Install Grunt","position":{"start":{"line":2,"column":6,"offset":29},"end":{"line":2,"column":22,"offset":45},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":24},"end":{"line":2,"column":22,"offset":45},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"在安装Grunt前需要安装node NPM。\n首先全局安装grunt-cli（grunt-cli为grunt的命令工具）。","position":{"start":{"line":3,"column":1,"offset":46},"end":{"line":4,"column":39,"offset":107},"indent":[1]}}],"position":{"start":{"line":3,"column":1,"offset":46},"end":{"line":4,"column":39,"offset":107},"indent":[1]}},{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">$ npm install -g grunt-cli</code>","position":{"start":{"line":6,"column":1,"offset":109},"end":{"line":6,"column":29,"offset":137},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":109},"end":{"line":6,"column":29,"offset":137},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"然后在开发的项目目录下安装grunt。","position":{"start":{"line":8,"column":1,"offset":139},"end":{"line":8,"column":20,"offset":158},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":139},"end":{"line":8,"column":20,"offset":158},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":" ","position":{"start":{"line":10,"column":1,"offset":160},"end":{"line":10,"column":2,"offset":161},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">$ npm install grunt</code>","position":{"start":{"line":10,"column":2,"offset":161},"end":{"line":10,"column":23,"offset":182},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":160},"end":{"line":10,"column":23,"offset":182},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"通过\"—version\"命令查看当前cli和grunt版本","position":{"start":{"line":12,"column":1,"offset":184},"end":{"line":12,"column":30,"offset":213},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":184},"end":{"line":12,"column":30,"offset":213},"indent":[]}},{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">$ grunt —version</code>","position":{"start":{"line":14,"column":1,"offset":215},"end":{"line":14,"column":19,"offset":233},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":215},"end":{"line":14,"column":19,"offset":233},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"通过git安装模板插件","position":{"start":{"line":16,"column":1,"offset":235},"end":{"line":16,"column":12,"offset":246},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":235},"end":{"line":16,"column":12,"offset":246},"indent":[]}},{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">$ git clone https://github.com/gruntjs/grunt-init-gruntfile.git ~/.grunt-init/gruntplugin</code>","position":{"start":{"line":18,"column":1,"offset":248},"end":{"line":18,"column":92,"offset":339},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":248},"end":{"line":18,"column":92,"offset":339},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"通过grunt-init --help命令可以查看到Available templates，当前安装的模板名称为gruntplugin。\n安装grunt常用的插件。","position":{"start":{"line":20,"column":1,"offset":341},"end":{"line":21,"column":14,"offset":423},"indent":[1]}}],"position":{"start":{"line":20,"column":1,"offset":341},"end":{"line":21,"column":14,"offset":423},"indent":[1]}},{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">$ npm install grunt-contrib-uglify</code>","position":{"start":{"line":23,"column":1,"offset":425},"end":{"line":23,"column":37,"offset":461},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":23,"column":37,"offset":461},"end":{"line":23,"column":38,"offset":462},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":425},"end":{"line":23,"column":38,"offset":462},"indent":[]}},{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">$ npm install grunt-contrib-concat</code>","position":{"start":{"line":25,"column":1,"offset":464},"end":{"line":25,"column":37,"offset":500},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":25,"column":37,"offset":500},"end":{"line":25,"column":38,"offset":501},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":464},"end":{"line":25,"column":38,"offset":501},"indent":[]}},{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">$ npm install grunt-contrib-watch</code>","position":{"start":{"line":27,"column":1,"offset":503},"end":{"line":27,"column":36,"offset":538},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":503},"end":{"line":27,"column":36,"offset":538},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"以上基本需要安装的东西都完成了，接下来进行配置。\n当然这里你也可以不单独安装需要的plugin，而是通过npm install 命令直接安装package.json文件中引入的全部plugins。","position":{"start":{"line":29,"column":1,"offset":540},"end":{"line":30,"column":74,"offset":638},"indent":[1]}}],"position":{"start":{"line":29,"column":1,"offset":540},"end":{"line":30,"column":74,"offset":638},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"【2】Set Grunt Config\nGrunt项目需要package.json和Gruntfile.js/Gruntfile.coffee这两个配置文件。其中package.json定义了项目中需要引入的plugins，Gruntfile.js定义了Grunt的配置信息。\n首先通过grunt-init ","position":{"start":{"line":32,"column":1,"offset":640},"end":{"line":34,"column":16,"offset":794},"indent":[1,1]}},{"type":"linkReference","identifier":"模板名","referenceType":"shortcut","children":[{"type":"text","value":"模板名","position":{"start":{"line":34,"column":17,"offset":795},"end":{"line":34,"column":20,"offset":798},"indent":[]}}],"position":{"start":{"line":34,"column":16,"offset":794},"end":{"line":34,"column":21,"offset":799},"indent":[]}},{"type":"text","value":"创建Gruntfile.js文件和package.json文件。","position":{"start":{"line":34,"column":21,"offset":799},"end":{"line":34,"column":53,"offset":831},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":640},"end":{"line":34,"column":53,"offset":831},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">$ grunt-init gruntplugin</code>","position":{"start":{"line":36,"column":1,"offset":833},"end":{"line":36,"column":28,"offset":860},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":833},"end":{"line":36,"column":28,"offset":860},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"接下来通过npm init命令根据提示输入项目相关相应参数，完善package.json文件。","position":{"start":{"line":38,"column":1,"offset":862},"end":{"line":38,"column":48,"offset":909},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":862},"end":{"line":38,"column":48,"offset":909},"indent":[]}},{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">$ npm init</code>","position":{"start":{"line":40,"column":1,"offset":911},"end":{"line":40,"column":13,"offset":923},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":911},"end":{"line":40,"column":13,"offset":923},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"这里也可以clone我使用的项目","position":{"start":{"line":42,"column":1,"offset":925},"end":{"line":42,"column":17,"offset":941},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":925},"end":{"line":42,"column":17,"offset":941},"indent":[]}},{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">$ git clone https://github.com/dandananddada/helloGrunt.git</code>","position":{"start":{"line":44,"column":1,"offset":943},"end":{"line":44,"column":62,"offset":1004},"indent":[]}}],"position":{"start":{"line":44,"column":1,"offset":943},"end":{"line":44,"column":62,"offset":1004},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"然后在根目录下执行","position":{"start":{"line":46,"column":1,"offset":1006},"end":{"line":46,"column":10,"offset":1015},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":1006},"end":{"line":46,"column":10,"offset":1015},"indent":[]}},{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">$ npm install</code>","position":{"start":{"line":48,"column":1,"offset":1017},"end":{"line":48,"column":16,"offset":1032},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":1017},"end":{"line":48,"column":16,"offset":1032},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"接下来就可以通过Grunt的命令查看定义的Task，并且执行相应任务了。\n具体任务相关数据配置的说明可参考官网，不在这里细说了。","position":{"start":{"line":50,"column":1,"offset":1034},"end":{"line":51,"column":28,"offset":1098},"indent":[1]}}],"position":{"start":{"line":50,"column":1,"offset":1034},"end":{"line":51,"column":28,"offset":1098},"indent":[1]}},{"type":"paragraph","children":[{"type":"linkReference","identifier":"http://gruntjs.com/configuring-tasks","referenceType":"shortcut","children":[{"type":"text","value":"http://gruntjs.com/configuring-tasks","position":{"start":{"line":53,"column":2,"offset":1101},"end":{"line":53,"column":38,"offset":1137},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":1100},"end":{"line":53,"column":39,"offset":1138},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":1100},"end":{"line":53,"column":39,"offset":1138},"indent":[]}},{"type":"definition","identifier":"http://gruntjs.com/configuring-tasks","title":null,"url":"http://gruntjs.com/configuring-tasks","position":{"start":{"line":55,"column":1,"offset":1140},"end":{"line":55,"column":77,"offset":1216},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"【附录】Gruntfile.js","position":{"start":{"line":56,"column":1,"offset":1217},"end":{"line":56,"column":17,"offset":1233},"indent":[]}}],"position":{"start":{"line":56,"column":1,"offset":1217},"end":{"line":56,"column":17,"offset":1233},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">exports</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">grunt</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">var</span> config <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        app<span class=\"token punctuation\">:</span> <span class=\"token string\">'app'</span><span class=\"token punctuation\">,</span>\n        dist<span class=\"token punctuation\">:</span> <span class=\"token string\">'dist'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">initConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        pkg<span class=\"token punctuation\">:</span> grunt<span class=\"token punctuation\">.</span>file<span class=\"token punctuation\">.</span><span class=\"token function\">readJSON</span><span class=\"token punctuation\">(</span><span class=\"token string\">'package.json'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        config<span class=\"token punctuation\">:</span> config<span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">//sass->css编译插件</span>\n        sass<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                sourceMap<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            dist<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                files<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n                    expand<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                    cwd<span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;%= config.app %>/styles/sass'</span><span class=\"token punctuation\">,</span>\n                    src<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'*.scss'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                    dest<span class=\"token punctuation\">:</span> <span class=\"token string\">'app/styles/'</span><span class=\"token punctuation\">,</span>\n                    ext<span class=\"token punctuation\">:</span> <span class=\"token string\">'.css'</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">//清除build后生成的文件（清空dist目录）</span>\n        clean<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            dist<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                files<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n                      dot<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                      src<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n                          <span class=\"token string\">'.tmp'</span><span class=\"token punctuation\">,</span>\n                          <span class=\"token string\">'&lt;%= config.dist %>/*'</span><span class=\"token punctuation\">,</span>\n                          <span class=\"token string\">'!&lt;%= config.dist %>/.git*'</span>\n                      <span class=\"token punctuation\">]</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">//合并js和css文件</span>\n        concat<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            js<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                src<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'&lt;%= config.app %>/js/**/*.js'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                dest<span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;%= config.dist %>/combine/&lt;%= pkg.name %>.js'</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            css<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                src<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'&lt;%= config.app %>/styles/**/*.css'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                dest<span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;%= config.dist %>/combine/&lt;%= pkg.name %>.css'</span>  \n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 压缩css文件</span>\n        cssmin<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// 保持目录结构压缩</span>\n            compress<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                files<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n                      expand<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                      cwd<span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;%= config.app %>/styles/'</span><span class=\"token punctuation\">,</span>\n                      src<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'*.css'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'!*.min.css'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                      dest<span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;%= config.dist %>/release/css/'</span><span class=\"token punctuation\">,</span>\n                      ext<span class=\"token punctuation\">:</span> <span class=\"token string\">'.min.css'</span>\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token comment\">// 合并为一个文件后压缩</span>\n            build<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                files<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n                      expand<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                      cwd<span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;%= config.dist %>/combine/'</span><span class=\"token punctuation\">,</span>\n                      src<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'*.css'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'!*.min.css'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                      dest<span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;%= config.dist %>/release'</span><span class=\"token punctuation\">,</span>\n                      ext<span class=\"token punctuation\">:</span> <span class=\"token string\">'.min.css'</span>\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 压缩js文件</span>\n        uglify<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            banner<span class=\"token punctuation\">:</span> <span class=\"token string\">'/*! &lt;%= pkg.name %> &lt;%= grunt.template.today(\"yyyy-mm-dd\") %> */\\n'</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token comment\">// 保持目录结构压缩</span>\n            compress<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                    mangle<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                    compress<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                        drop_console<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span>\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                    report<span class=\"token punctuation\">:</span> <span class=\"token string\">\"min\"</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                files<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n                    expand<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                    cwd<span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;%= config.app %>/js'</span><span class=\"token punctuation\">,</span>\n                    src<span class=\"token punctuation\">:</span> <span class=\"token string\">'**/*.js'</span><span class=\"token punctuation\">,</span>\n                    dest<span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;%= config.dist %>/release/js'</span><span class=\"token punctuation\">,</span>\n                    ext<span class=\"token punctuation\">:</span> <span class=\"token string\">'.min.js'</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token comment\">// 合并为一个文件后压缩</span>\n            build<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                    mangle<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                    compress<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                        drop_console<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span>\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                    report<span class=\"token punctuation\">:</span> <span class=\"token string\">\"min\"</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                files<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n                    expand<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                    cwd<span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;%= config.dist %>/combine'</span><span class=\"token punctuation\">,</span>\n                    src<span class=\"token punctuation\">:</span> <span class=\"token string\">'**/*.js'</span><span class=\"token punctuation\">,</span>\n                    dest<span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;%= config.dist %>/release'</span><span class=\"token punctuation\">,</span>\n                    ext<span class=\"token punctuation\">:</span> <span class=\"token string\">'.min.js'</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 配置ctrl+s触发任务</span>\n        watch<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            compile<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                files<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'&lt;%= config.app %>/styles/sass/**/*.scss'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                tasks<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'sass'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            livereload<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                    livereload<span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;%= connect.options.livereload %>'</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                files<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n                    <span class=\"token string\">'&lt;%= config.app %>/{,*/}*.html'</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token string\">'&lt;%= config.app %>/{,*/}*.css'</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token string\">'&lt;%= config.app %>/images/{,*/}*'</span>\n                <span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 将当前站点作为服务器启动</span>\n        connect<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                port<span class=\"token punctuation\">:</span> <span class=\"token number\">9001</span><span class=\"token punctuation\">,</span>\n                open<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                livereload<span class=\"token punctuation\">:</span> <span class=\"token number\">35729</span><span class=\"token punctuation\">,</span>\n                hostname<span class=\"token punctuation\">:</span> <span class=\"token string\">'localhost'</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            livereload<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token function-variable function\">middleware</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">connect</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>\n                            connect<span class=\"token punctuation\">.</span><span class=\"token function\">static</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">.</span>app<span class=\"token punctuation\">)</span>\n                        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 针对测试作为服务启动</span>\n        karma<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            unit<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                configFile<span class=\"token punctuation\">:</span> <span class=\"token string\">'karma.conf.js'</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">loadNpmTasks</span><span class=\"token punctuation\">(</span><span class=\"token string\">'grunt-sass'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">loadNpmTasks</span><span class=\"token punctuation\">(</span><span class=\"token string\">'grunt-contrib-clean'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">loadNpmTasks</span><span class=\"token punctuation\">(</span><span class=\"token string\">'grunt-contrib-concat'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">loadNpmTasks</span><span class=\"token punctuation\">(</span><span class=\"token string\">'grunt-contrib-cssmin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">loadNpmTasks</span><span class=\"token punctuation\">(</span><span class=\"token string\">'grunt-contrib-uglify'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">loadNpmTasks</span><span class=\"token punctuation\">(</span><span class=\"token string\">'grunt-contrib-watch'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">loadNpmTasks</span><span class=\"token punctuation\">(</span><span class=\"token string\">'grunt-contrib-connect'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">loadNpmTasks</span><span class=\"token punctuation\">(</span><span class=\"token string\">'grunt-karma'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// 将sass文件编译为css文件</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">registerTask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'compile'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'sass'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 清理dist目录</span>\n    <span class=\"token comment\">// grunt clean,grunt-contrib-clean内置任务</span>\n    <span class=\"token comment\">// 分别合并js和css文件为一个文件</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">registerTask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'combine'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">'compile'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'concat:css'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'concat:js'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 保持原目录结构压缩css文件和js文件</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">registerTask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'compress'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">'compile'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'cssmin:compress'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'uglify:compress'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 部署js文件和css文件（分别将js和css文件合并压缩为一个文件）</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">registerTask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'build'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">'clean:dist'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'compile'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'combine'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'cssmin:build'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'uglify:build'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//将当前站点作为服务启动</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">registerTask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'server'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'connect:livereload'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'watch'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'watch:compile'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 启动js单元测试服务</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">registerTask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'test'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'karma'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 设置grunt默认任务为server</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">registerTask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'default'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'server'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":58,"column":1,"offset":1235},"end":{"line":240,"column":4,"offset":6849},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":240,"column":4,"offset":6849}}}}